<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8">
    <meta http-equiv="Cache-Control" content="no-store">
    <title>Mental Visualization Task</title>
    <script>DEV_MODE = false;</script>
    <script src="lib/jquery-3.5.1.min.js"></script>
    <script src="lib/jquery-ui.min.js"></script>
    <script src="lib/uuidv4.min.js"></script>
    <script src="form.js"></script>
    <script src="event.js"></script>
    <script src="util.js"></script>
    <script src="recorder.js"></script>
    <script src="sprites.js"></script>
    <script src="main.js"></script>
    <link rel="stylesheet" href="css/bulma.min.css">
    <link rel="stylesheet" href="css/cyberball.css">
</head>

<body>
    <div id="view" class="page fullscreen columns is-centered is-vcentered">

        <div id="instructions" class="box has-text-centered hide" style="position: fixed; bottom: 0; width: 60vw;">
            <p>When the circle reaches the shape at the bottom of the screen (closest to you), press <u>J</u> to move it to the <i>top left</i>, or press <u>K</u> to move it to the <i>top right</i>.</p>
        </div>

        <canvas id="canvas" class="hide"></canvas>

        <div id="pre-task-page" class="popup container box">
            <div class="content expand  is-flex is-flex-direction-column">
                <h1 id="pre-task-title"></h1>
                <script>
                    setTimeout(function () {
                        $('#continue1').prop('disabled', false);
                        $('#continue1').addClass('is-primary');
                    }, 8000);

                    function page2() {
                        $('#instrp1').css('display', 'none');
                        $('#instrp2').css('display', 'flex');
                        $('#instrp2').addClass('is-flex-direction-column is-flex-grow-5');
                        setTimeout(function () {
                            $('#continue2').prop('disabled', false);
                            $('#continue2').addClass('is-primary');
                        }, 8000);
                    }

                    function page3() {
                        $('#instrp2').css('display', 'none');
                        $('#instrp3').css('display', 'flex');
                        setTimeout(function () {
                            $('#continue3').prop('disabled', false);
                            $('#continue3').addClass('is-primary');
                        }, 8000);
                    }

                    function page4() {
                        $('#instrp3').css('display', 'none');
                        $('#instrp4').css('display', 'flex');
                        setTimeout(function () {
                            $('#continue4').prop('disabled', false);
                            $('#continue4').addClass('is-primary');
                        }, 8000);
                    }

                    function page5() {
                        $('#instrp4').css('display', 'none');
                        $('#instrp5').css('display', 'flex');
                        setTimeout(function () {
                            $('#pre-task-button').prop('disabled', false);
                            $('#pre-task-button').addClass('is-primary');
                        }, 8000);
                    }

                </script>
                <div id="instrp1" style="display: flex;" class="mt-2 scroll is-flex-direction-column is-flex-grow-5">
                    <p>In the upcoming experiment, we are investigating the effects of practicing <b>mental visualization</b> in a cognitive task. Thus, we need you to practice your mental visualization skills.</p>
                    <p>In a few moments, you will be engaged in the task. The task is very simple. A small circle will float between shapes on the screen. <b>When the circle reaches the shape at the bottom of the screen (closest to you), indicate this by moving it to another shape to the left or right. You can choose which shape to move the circle to by using the keyboard and pressing either <u>'J'</u> (for the shape on the left) or <u>'K'</u> (for the shape on the right)</b>.</p>
                    <p>These will all be labeled for you during the task.</p>
                    <div class="is-flex-grow-5"></div>
                    <button id="continue1" class="is-align-self-flex-end button is-fullwidth" disabled onclick="page2()">
                        <p> Next Page </p>
                    </button>
                </div>
                <div id="instrp2" class="hide mt-2 scroll is-flex-direction-column is-flex-grow-5">
                    <p>The task will also pause at several points to help us understand how mental visualization impacts thoughts. At this time, you will be presented a probe question regarding your thoughts at the moment the task paused. Please answer these questions honestly. <b>They will not affect your scores or progress in any way</b>.</p>
                    <p>We will ask that you report your thoughts as they were <b>immediately before the presentation of the thought probe</b>.</p>
                    <div class="is-flex-grow-5"></div>
                    <button id="continue2" class="button is-fullwidth" disabled onclick="page3()">
                        <p> Next Page </p>
                    </button>
                </div>
                <div id="instrp3" class="hide mt-2 scroll is-flex-direction-column is-flex-grow-5">
                    <p>At each prompt, you will see the following question appear:</p>
                    <hr>
                    <p>
                        <b>Was your mind moving about freely?</b>
                    </p>

                    <p>
                        Your thoughts move freely when:
                    <ul>
                        <li>They seem to wander around, flowing from one thing to another
                        </li>
                        <li>There is no overarching purpose or direction to your thinking. Although there may still be some connection between one thought and the next
                        </li>
                        <li>Images and memories seem to spontaneously come into your mind
                        </li>
                        <li>Your attention lands spontaneously on things in your environment
                        </li>
                        <li>Your mind may spontaneously drift between things in the external environment and internal images so it may go back and forth
                        </li>
                        <li>Your thoughts move freely when it feels like your thoughts could land on pretty much anything, or
                        </li>
                        <li>Your thoughts seem to flow with ease
                        </li>
                    </ul>
                    </p>

                    <hr>
                    <p>You will then be able to respond to this prompt on a scale from 1 (Not at all) to  7 (Very much so).</p>
                    <div class="is-flex-grow-5"></div>
                    <button id="continue3" class="button is-fullwidth" disabled onclick="page4()">
                        <p> Next Page </p>
                    </button>
                </div>

                <div id="instrp4" class="hide mt-2 scroll is-flex-direction-column is-flex-grow-5">
                    <p>You will be interrupted several times during the task with the prompt "Was your mind moving about freely?". The definition you just read will be available to you when you respond. After your response, the task will resume.</p>
                    <p>As per the definition, moving freely means that your thoughts are not constrained by anything, and are moving without being pulled to any specific topic.</p>
                    <p>
                        Some examples of thoughts moving freely:
                    <ul>
                        <li>You imagine yourself having dinner this evening, wonder if you've been eating too much fast food recently, notice a smudge on the computer screen, and then remember that you have to clean the bathroom when you get home.
                        </li>
                        <li>You think about a project you have due, then recall a coworker's birthday is next week and have a thought regarding the character in a book you received as a gift.
                        </li>
                    </ul>
                    </p>
                    <div class="is-flex-grow-5"></div>
                    <button id="continue4" class="button is-fullwidth" disabled onclick="page5()">
                        <p> Next Page </p>
                    </button>
                </div>
                <div id="instrp5" class="hide mt-2 scroll is-flex-direction-column is-flex-grow-5">
                    <p>Your performance is not as important compared to you <b>MENTALLY VISUALIZING</b> the entire experience. Imagine the other shapes and the environment they are in, as well as how the circle moves among the shapes.</p>
                    <div class="is-flex-grow-5"></div>
                    <button id="pre-task-button" class="button is-fullwidth" disabled>
                        <p id="pre-task-button-text"></p>
                    </button>
                </div>
            </div>
        </div>

        <div id="loading-page" class="box hide">
            <div class="content">
                <p id="connecting-text" class="loading-box-text"></p>
                <progress class="progress is-large is-info" max="100"></progress>
            </div>
        </div>

        <div id="probe-dialogue" class="modal">
            <div class="modal-background"></div>
            <div class="expand columns is-vcentered">
                <div class="popup modal-card">
                    <header class="modal-card-head">
                        <p id="probe-title" class="modal-card-title"></p>
                    </header>
                    <section class="modal-card-body">
                        <div class="content">
                            <p id="probe-text"></p>
                            <form id="probe-form">
                                <p class="is-size-4">
                                    <b>Was your mind moving about freely?</b>
                                </p>

                                <p>
                                    Your thoughts move freely when:
                                <ul>
                                    <li>They seem to wander around, flowing from one thing to another
                                    </li>
                                    <li>There is no overarching purpose or direction to your thinking. Although there may still be some connection between one thought and the next
                                    </li>
                                    <li>Images and memories seem to spontaneously come into your mind
                                    </li>
                                    <li>Your attention lands spontaneously on things in your environment
                                    </li>
                                    <li>Your mind may spontaneously drift between things in the external environment and internal images so it may go back and forth
                                    </li>
                                    <li>Your thoughts move freely when it feels like your thoughts could land on pretty much anything, or
                                    </li>
                                    <li>Your thoughts seem to flow with ease
                                    </li>
                                </ul>
                                    <a id="open-examples" class="is-size-7 mt-0" onclick="$('#fmt-examples').show(); $('#open-examples').hide();">Click here to show examples.</a>
                                    <div id="fmt-examples" class="hide">
                                        Some examples of thoughts moving freely:
                                        <ul>
                                            <li>You imagine yourself having dinner this evening, wonder if you've been eating too much fast food recently, notice a smudge on the computer screen, and then remember that you have to clean the bathroom when you get home.
                                            </li>
                                            <li>You think about a project you have due, then recall a coworker's birthday is next week and have a thought regarding the character in a book you received as a gift.
                                            </li>
                                        </ul>
                                    </div>
                                </p>


                                <p>
                                    Please be honest, <b>your response will not affect your progress</b> in any way.
                                </p>
                                <div class="box">
                                    <b>Was your mind moving about freely?</b>
                                    <div id="q1" class="control mt-3 is-flex"></div>
                                    <script>likert(7, 'Not at all', 'Very much so', 'q1');</script>
                                </div>
                            </form>
                        </div>
                    </section>
                    <footer class="modal-card-foot">
                        <button id="probe-button-0" class="button is-fullwidth" type="submit" form="probe-form" onclick="$('#fmt-examples').hide(); $('#open-examples').show();">
                            <p id="probe-button-0-text"></p>
                        </button>
                    </footer>
                </div>
            </div>
        </div>

        <div id="end-dialogue" class="modal">
            <div class="modal-background"></div>
            <div class="expand columns is-vcentered">
                <div class="modal-card">
                    <header class="modal-card-head">
                        <p id="end-title" class="modal-card-title"></p>
                    </header>
                    <section class="modal-card-body">
                        <p id="end-text"></p>
                    </section>
                    <footer class="modal-card-foot">
                        <button id="return-to-survey" class="button is-link is-pulled-right" disabled>
                            <p id="survey-button-text"></p>
                        </button>
                    </footer>
                </div>
            </div>
        </div>

    </div>

</body>

</html>